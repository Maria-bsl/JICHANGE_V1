<ngx-loading
  [show]="routeLoading"
  [config]="{ backdropBorderRadius: '0.5px' }"
></ngx-loading>

<ngx-sonner-toaster
  position="top-right"
  [richColors]="true"
></ngx-sonner-toaster>

<!-- <div
  data-theme="light"
  class="h-screen w-screen overflow-x-hidden bg-base-100 flex flex-col relative"
>
  <div
    #containerDoc
    class="w-full h-full overflow-x-hidden overflow-y-scroll flex flex-col"
  >
    <div
      #navBarItem
      id="navbar"
      class="z-50 fixed w-full duration-500 flex-none"
    >
      <app-vendor-header #vendorHeader></app-vendor-header>
    </div>
    <div class="flex-1 flex flex-col divide-y pt-16 lg:pt-20">
      <div class="px-6 py-2 relative">
        <xng-breadcrumb [separator]="iconTemplate"></xng-breadcrumb>
        <ng-template #iconTemplate>
          <mat-icon>chevron_right</mat-icon>
        </ng-template>
      </div>
      <div
        class="w-full h-full relative bg-jichangeDefault pb-4"
        [@vendorAnimate]="prepareRoute(outlet, 'animationState')"
      >
        <router-outlet #outlet="outlet"></router-outlet>
      </div>
    </div>
    <div class="flex-none">
      <app-footer></app-footer>
    </div>
  </div>
</div> -->

<div
  data-theme="light"
  class="h-screen w-screen overflow-x-hidden bg-base-100 flex flex-row relative"
>
  <aside
    class="h-screen overflow-hidden transition-all"
    [class]="expanded() ? 'w-72' : 'w-24'"
  >
    <nav class="h-full flex flex-col bg-white border-r shadow-sm">
      <div class="p-4 pb-2 flex flex-row justify-between items-center">
        <img
          src="assets/img/logo-3.png"
          class="overflow-hidden transition-all"
          [class]="expanded() ? 'w-32 h-24' : 'w-0 h-24'"
          alt=""
          srcset=""
        />
        <button
          mat-icon-button
          (click)="expanded.set(!expanded())"
          class="p-1 5 rounded-lg bg-gray-50 hover:bg-gray-100"
        >
          <mat-icon>{{ expanded() ? "first_page" : "last_page" }}</mat-icon>
        </button>
      </div>
      <cdk-accordion class="flex-1 px-3 space-y-1">
        <cdk-accordion-item
          *ngFor="let data of dataSource.data; index as ind"
          #accordionItem="cdkAccordionItem"
          class="example-accordion-item"
          role="button"
          tabindex="0"
          [attr.id]="'accordion-header-' + ind"
          [attr.aria-expanded]="accordionItem.expanded"
          [attr.aria-controls]="'accordion-body-' + ind"
        >
          <a
            [routerLink]="data.routerLink"
            (click)="accordionItem.toggle()"
            class="relative py-2 px-2 w-full flex flex-row items-center justify-between rounded-md transition-colors cursor-pointer"
          >
            <div class="flex flex-row items-center h-full text-sm font-normal">
              <mat-icon>{{ data.icon }}</mat-icon>
              <h6>{{ data.name }}</h6>
            </div>
            <span>
              <mat-icon
                *ngIf="data.children && data.children.length > 0 && expanded()"
                class="!absolute right-0 top-1/2 -translate-y-1/2"
              >
                @if (accordionItem.expanded) { arrow_drop_up } @else {
                arrow_drop_down }
              </mat-icon>
            </span>
          </a>
          <ul
            class="example-accordion-item-body"
            role="region"
            [attr.id]="'accordion-body-' + ind"
            [attr.aria-labelledby]="'accordion-header-' + ind"
            [@contentExpansion]="
              accordionItem.expanded ? 'expanded' : 'collapsed'
            "
          >
            <ng-container *ngIf="data.children">
              <li
                [routerLink]="childNode.routerLink"
                class="py-2 pl-8"
                *ngFor="let childNode of data.children; index as i"
              >
                <a>{{ childNode.name }}</a>
              </li>
            </ng-container>
          </ul>
        </cdk-accordion-item>
      </cdk-accordion>
      <div class="border-t flex p-3 items-center">
        <img
          src="https://ui-avatars.com/api/?background=c7d2fe&color=3730a3&bold=true"
          alt=""
          class="w-10 h-10 rounded-md"
        />
        <div
          class="flex justify-between items-center overflow-hidden transition-all"
          [class]="expanded() ? 'w-52 ml-3' : 'w-0'"
        >
          <div class="flex flex-col justify-center">
            <h4 class="font-semibold mat-title-small">John Doe</h4>
            <span class="text-xs !text-gray-600">{{
              "Johndoe@gmail.com"
            }}</span>
          </div>
          <mat-icon>more_vert</mat-icon>
        </div>
      </div>
    </nav>
  </aside>
  <div class="w-full h-full relative">
    <div class="absolute top-0 left-0 right-0 bottom-0 w-full h-full">
      <router-outlet #outlet="outlet"></router-outlet>
    </div>
  </div>
</div>
